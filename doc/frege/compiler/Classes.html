<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<META http-equiv="Content-Type" content="text/html;charset=utf-8">
<TITLE>frege.compiler.Classes - frege documentation</TITLE>
<style TYPE="text/css">
body { font-family: helvetica, arial, sans-serif }
pre { font-family: "lucida console", "courier new", monospaced; font-size: 100%; color: rgb(0%,0%,60%) }
h3  { font-weight: lighter }
dt.func { background: rgb(95%, 95%, 80%) }
dt.clas { background: rgb(80%, 95%, 95%) }
dt.inst { background: rgb(95%, 90%, 95%) }
dt.data { background: rgb(95%, 95%, 95%) }
span.code { font-family: "lucida console", "courier new", monospaced; font-size: 100%; color: rgb(0%,0%,60%) }
span.unknown { font-family: "lucida console", "courier new", monospaced; font-size: 100%; color: red }
a.fref { text-decoration: none; font-family: "lucida console", "courier new", monospaced; font-size: 100%; color: rgb(30%, 30%, 0%) }
a.tref { text-decoration: none; font-family: "lucida console", "courier new", monospaced; font-size: 100%; color: rgb(40%, 0%,  40%) }
</style>
<BODY>
<H1>
<A name="package">Package <SPAN CLASS="code">frege.compiler.Classes</SPAN></A></H1>
<P>
Compiled: Thu Oct 20 00:59:10 CEST 2011 from source file: <SPAN CLASS="code">.\frege\compiler\Classes.fr</SPAN></P>
<H3>
Package Documentation</H3>
<P>
The 6th pass deals with classes and instances</P>
<H3>
Table of Content</H3>
<UL>
<LI>
<DIV>
<A HREF="#let">Functions and Values (alphabetically)</A></DIV>
<DIV>
<A class="fref" href="#alienInstsForClass">alienInstsForClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#allClasses">allClasses</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#classDeps">classDeps</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#funForCIT">funForCIT</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#implemented">implemented</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#instForClass">instForClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#instForThisClass">instForThisClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#instsForClass">instsForClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#passC">passC</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#passI">passI</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#post">post</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#superclasses">superclasses</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#tcInstMethod">tcInstMethod</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#tcInstMethods">tcInstMethods</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#version">version</A></DIV>
</LI>
<LI>
<DIV>
<A HREF="#case">Functions and Values (by type)</A></DIV>
<DIV>
<A class="fref" href="#alienInstsForClass">alienInstsForClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#allClasses">allClasses</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#classDeps">classDeps</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#funForCIT">funForCIT</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#implemented">implemented</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#instForClass">instForClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#instForThisClass">instForThisClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#instsForClass">instsForClass</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#passC">passC</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#passI">passI</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#post">post</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#superclasses">superclasses</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#tcInstMethod">tcInstMethod</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#tcInstMethods">tcInstMethods</A>&nbsp;&nbsp;&nbsp; <A class="fref" href="#version">version</A></DIV>
</LI>
</UL>
<H3>
Imports</H3>
<UL>
<LI>
<DIV>
import <A HREF="../Prelude.html">frege.Prelude</A> as Prelude</DIV>
</LI>
<LI>
<DIV>
import <A HREF="./Data.html">frege.compiler.Data</A> as Data</DIV>
</LI>
<LI>
<DIV>
import <A HREF="../List.html">frege.List</A> as List</DIV>
</LI>
<LI>
<DIV>
import <A HREF="../prelude/Text.html">frege.prelude.Text</A> as PreludeText</DIV>
</LI>
<LI>
<DIV>
import <A HREF="../prelude/Base.html">frege.prelude.Base</A> as PreludeBase</DIV>
</LI>
<LI>
<DIV>
import <A HREF="./Utilities.html">frege.compiler.Utilities</A> as U</DIV>
</LI>
<LI>
<DIV>
import <A HREF="./TCUtil.html">frege.compiler.TCUtil</A> as T</DIV>
</LI>
</UL>
<H2>
<A name="let">Functions and Values</A></H2>
<DL class="func">
<DT class="func">
<SPAN CLASS="code"><A name="alienInstsForClass">alienInstsForClass</A> :: <B><A class="tref" href="./Data.html#QName">Data.QName</A></B> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Int">Int</A></SPAN></DT>
<DD class="func">
<P>
this is called right after import through <A class="fref" href="#passI">passI</A> <B>true</B> to verify alien instances</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="allClasses">allClasses</A> :: <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> [<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>]</SPAN></DT>
<DD class="func">
<P>
collect all known classes</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="classDeps">classDeps</A> :: <B>[<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>]</B> -&gt; <A class="tref" href="./Data.html#Global">Data.Global</A> -&gt; [(<A class="tref" href="./Data.html#QName">Data.QName</A>, [<A class="tref" href="./Data.html#QName">Data.QName</A>])]</SPAN></DT>
<DD class="func">
<P>
look through list of <A class="tref" href="./Data.html#Symbol">Data.Symbol</A>s and note name and superclasses for each class</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="funForCIT">funForCIT</A> :: <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
check instance member function definition</P>
<P>
there are 4 basic cases and an error case: 1) type symbol has definition, instance symbol has definition ==&gt; error 2) type symbol has definition, instance symbol not -&gt; Ok 3) type symbol has no definition, instance symbol has it -&gt; Ok 4) neither type symbol nor instance symbol are implemented, but there is a default implementation in the class: either take over code literally or just call the class member function. 5) definition is missing in all 3 places ==&gt; error</P>
<P>
After processing, either there is an error or the member symbol is in the instance symbol and the type symbol contains a link to it.</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="implemented">implemented</A> :: <B><A class="tref" href="./Data.html#Symbol">Data.Symbol</A></B> -&gt; <A class="tref" href="../prelude/Base.html#Bool">Bool</A></SPAN></DT>
<DD class="func">
<P>
check if <A class="tref" href="./Data.html#Symbol">Data.Symbol</A> is an implemented function</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="instForClass">instForClass</A> :: <B><A class="tref" href="./Data.html#QName">Data.QName</A></B> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="instForThisClass">instForThisClass</A> :: <B><A class="tref" href="./Data.html#QName">Data.QName</A></B> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
check if type is already an instance of a class, if not, make it one</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="instsForClass">instsForClass</A> :: <B><A class="tref" href="./Data.html#QName">Data.QName</A></B> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Int">Int</A></SPAN></DT>
<DD class="func">
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="passC">passC</A> :: <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> (<A class="tref" href="../prelude/Base.html#String">String</A>, <A class="tref" href="../prelude/Base.html#Int">Int</A>)</SPAN></DT>
<DD class="func">
<P>
handle classes</P>
<UL>
<LI>
 check for mutul superclass relationships </LI>
<LI>
 make it so that the field supers contains classes in dependency order </LI>
<LI>
 foreach class, check formal requirements on methods, correct symtab aliases </LI>
</UL>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="passI">passI</A> :: <A class="tref" href="../prelude/Base.html#Bool">Bool</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> (<A class="tref" href="../prelude/Base.html#String">String</A>, <A class="tref" href="../prelude/Base.html#Int">Int</A>)</SPAN></DT>
<DD class="func">
<P>
verify  instances</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="post">post</A> :: <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Bool">Bool</A></SPAN></DT>
<DD class="func">
<P>
post condition is true</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="superclasses">superclasses</A> :: <B><A class="tref" href="./Data.html#Symbol">Data.Symbol</A></B> -&gt; <A class="tref" href="./Data.html#Global">Data.Global</A> -&gt; [<A class="tref" href="./Data.html#QName">Data.QName</A>]</SPAN></DT>
<DD class="func">
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="tcInstMethod">tcInstMethod</A> :: <B>[<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>]</B> -&gt; <A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
check if the type of an instance method is more specific than the type of the class method</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="tcInstMethods">tcInstMethods</A> :: [<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>] -&gt; <A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
check for each method in an instance if the type is more specific than the class type</P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A name="version">version</A> :: <A class="tref" href="../prelude/Base.html#Int">Int</A></SPAN></DT>
<DD class="func">
<P>
This is $Revision: 218 $</P>
</DD>
</DL>
<H2>
<A name="case">Functions and Values by Type</A></H2>
<DL class="func">
<DT class="func">
<SPAN CLASS="code">[<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>] -&gt; <A class="tref" href="./Data.html#Global">Data.Global</A> -&gt; [(<A class="tref" href="./Data.html#QName">Data.QName</A>, [<A class="tref" href="./Data.html#QName">Data.QName</A>])]</SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#classDeps">classDeps</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code">[<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>] -&gt; <A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#tcInstMethod">tcInstMethod</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code">[<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>] -&gt; <A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#tcInstMethods">tcInstMethods</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#funForCIT">funForCIT</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#instForThisClass">instForThisClass</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Unit">()</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#instForClass">instForClass</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#QName">Data.QName</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Int">Int</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#alienInstsForClass">alienInstsForClass</A>, <A class="fref" href="#instsForClass">instsForClass</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="./Data.html#Global">Data.Global</A> -&gt; [<A class="tref" href="./Data.html#QName">Data.QName</A>]</SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#superclasses">superclasses</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#Symbol">Data.Symbol</A> -&gt; <A class="tref" href="../prelude/Base.html#Bool">Bool</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#implemented">implemented</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="../prelude/Base.html#Bool">Bool</A> -&gt; <A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> (<A class="tref" href="../prelude/Base.html#String">String</A>, <A class="tref" href="../prelude/Base.html#Int">Int</A>)</SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#passI">passI</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> (<A class="tref" href="../prelude/Base.html#String">String</A>, <A class="tref" href="../prelude/Base.html#Int">Int</A>)</SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#passC">passC</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> [<A class="tref" href="./Data.html#Symbol">Data.Symbol</A>]</SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#allClasses">allClasses</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="./Data.html#StIO">Data.StIO</A> <A class="tref" href="./Data.html#Global">Data.Global</A> <A class="tref" href="../prelude/Base.html#Bool">Bool</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#post">post</A></P>
</DD>
<DT class="func">
<SPAN CLASS="code"><A class="tref" href="../prelude/Base.html#Int">Int</A></SPAN></DT>
<DD class="func">
<P>
<A class="fref" href="#version">version</A></P>
</DD>
</DL>
<P>
<A HREF="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01 Strict" height="31" width="88"></A></P>
</BODY>
</HTML>
